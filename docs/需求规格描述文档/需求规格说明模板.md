# 需求规格说明模板
## 更新记录

| 时间      | 更新人 | 更新内容                      |
| :-------- | ------ | ----------------------------- |
| 2020.4.11 | 陈子合 | 功能需求3.2.1，3.2.8，3.2.9   |
| 2020.4.12 | 陈子合 | 数据需求3.4，其他需求3.5      |
| 2020.4.15 | 邱星曜 | 功能需求3.2.2，3.2.3，3.2.4   |
| 2020.4.15 | 邱星曜 | 对外接口需求3.1.1，3.1.2      |
| 2020.4.16 | 刘学卓 | 非功能需求                    |
| 2020.4.16 | 刘学卓 | 功能需求3.2.10, 3.2.11,3.2.12 |
|           |        |                               |

## 目录
[TOC]
## 1. 引言

### 1.1 目的
### 1.2 范围
### 1.3 参考文献
## 2. 总体描述

### 2.1 项目前景
#### 2.1.1 背景与机遇
#### 2.1.2 业务需求
### 2.2 项目功能
### 2.3 用户特征
### 2.4 约束
### 2.5 假设与依赖

## 3 详细需求描述
### 3.1 对外接口需求
#### 3.1.1 用户界面 
整体风格：整体呈扁平化设计，背景主色调为#f0f2f5；使用antialiased和grayscale实现平滑效果，字体优先展示为Avenir, Helvetica, Arial与sans-serif。

顶部功能栏从左到右显示系统图标，首页，个人中心和用户模块（显示头像以及名称，可通过下拉从上到下显示首页，我的信息，退出登录）

UI1 登陆界面：

​	界面中间为登陆注册窗口。

UI2 系统主页：

​	顶部功能栏下方以平铺呈现所有酒店的名称，评分，图片。

UI3 酒店详情页：

​	顶部功能栏下方左侧显示酒店图片，图片旁从上至下显示名称，地址，评分，星级，酒店简介。下方以列表展示房间信息与酒店详情。

UI4 用户主页：

​	顶部功能栏下方为我的信息与我的订单模块，前者从上至下展示了用户名，邮箱，手机号，信用值（除了信用值外都可修改），后者以表格形式呈现具体订单信息。

#### 3.1.2 通信接口

CI: 客户端与服务器使用HTTP的方式进行通信。

### 3.2 功能需求
#### 3.2.1  管理用户信息
##### 3.2.1.1 特征描述

```
当某个用户请求查看个人信息时，系统检验用户身份，显示用户基本信息，允许用户维护自身基本信息（姓名，名称，密码以及联系方式）、浏览未执行订单、已执行订单、异常订单以及已撤销订单
```

##### 3.2.1.2 刺激/响应序列

```
刺激：用户请求查看个人信息

响应：系统检验用户身份，并显示用户的基本个人信息

刺激：用户请求更改个人基本信息

响应：系统提示用户信用值无法修改，并要求用户输入要修改的信息

刺激：用户输入并确认个人基本信息

响应：系统提示个人信息修改成功

刺激：用户请求浏览未执行订单

响应：系统显示该用户未执行的订单

刺激：用户请求并确认撤销未执行订单

响应：系统提示用户撤销成功，并更改订单状态，根据情况更改用户信用值

刺激：用户请求浏览已执行的订单

响应：系统显示该用户已执行的订单

刺激：用户请求浏览异常订单

响应：系统显示该用户的异常订单

刺激：用户请求浏览已撤销订单

响应：系统显示该用户已撤销的订单
```

##### 3.2.1.3 相关功能需求

|                                                              |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| UserInformation                                              | 系统允许用户管理个人信息                                     |
| UserInfermation.start                                        | 系统显示用户的个人信息                                       |
| UserInformation.change<br/>UserInformation.change.input<br/>UserInformation.change.confirm<br/>UserInformation.change.updateAndShow<br/>UserInformation.change.invalid | 系统允许用户更改自身的个人信息<br/>系统允许用户键盘输入要更改的个人信息<br/>用户确认更改后的个人信息<br/>系统更新并显示用户更改后的个人信息<br/>当用户尝试更改信用值时，系统提示信用值无法更改 |
| UserInformation.UnfinishedOrder.show<br/>UserInformation.UnfinishedOrder.return<br/>UserInformation.UnfinishedOrder.return.show<br/>UserInformation.UnfinishedOrder.lateOrder | 系统显示用户未执行订单<br/>在用户请求撤销未执行订单时，系统更改订单状态<br/>在更改订单状态后，系统再次显示未执行订单<br/>在撤销订单时间与订单执行时间间隔小于6小时时，系统更改用户信用值 |
| UserInformation.FinishedOrder                                | 在用户请求浏览已执行订单时，系统显示已执行订单               |
| UserInformation.ExcepitionalOrder                            | 在用户请求浏览异常订单时，系统显示异常订单                   |
| UserInformation.ReturnedOrder                                | 在用户请求浏览已撤销订单时，系统显示已撤销订单               |



#### 3.2.2 浏览酒店信息

##### 3.2.2.1 特征描述

```
当用户请求浏览特定商圈和地址的酒店信息时，系统处理该请求，并且将特定商圈和地址的酒店信息以列表形式展示给用户
```

##### 3.2.2.2 刺激/相应序列

```
刺激：用户选择特定商圈与地址后请求浏览酒店订单

响应：系统查找并以列表形式返回对应商圈与地址的酒店信息，按照某种方式进行排序，例如价格，星级，评分

刺激：用户请求查看某一酒店细节信息

响应：系统根据请求，向用户展示酒店的详细信息，如详细地址，评价，房间类型，历史订单等

刺激：用户离开酒店详情页面

响应：系统返回酒店列表页面

刺激：用户选择排序条件

响应：系统根据排序条件，更新酒店列表并且显示
```

##### 3.2.2.4 相关功能需求

|                                                             |                                                              |
| ----------------------------------------------------------- | ------------------------------------------------------------ |
| HotelList.Start                                             | 系统允许用户查看酒店列表                                     |
| HotelList.Input.bizRegion<br>HotelList.Input.SortConditions | 用户输入具体的商圈，系统按照默认方式显示该商圈的酒店信息<br>用户选择排序的条件，系统根据条件返回酒店列表信息 |
| HotelList.Show.List<br>HotelList.Show.Detail                | 用户输入具体的商圈后以及排序条件，系统筛选出满足的酒店，排序后以列表形式展示<br>用户选择某一具体的酒店，系统显示该酒店详情界面 |



#### 3.2.3 搜索酒店信息

##### 3.2.3.1 特征描述

```
当用户需要根据酒店名称，酒店星级，房间(类型、原始价格区间、有空房期间(房间 数量、入住日期，退房日期))、评分区间等条件进行搜索时，系统提供搜索的功能
```

##### 3.2.3.2 刺激/响应序列

```
刺激：用户选择搜索

响应：系统显示搜索窗口

刺激：用户输入搜索条件

响应：系统显示搜索条件，并且根据条件筛选出符合要求的酒店列表显示给用户

刺激：用户取消搜索

响应：系统返回至主页

刺激：用户选择排序条件

响应：用户根据排序条件，更新酒店列表显示给用户
```

##### 3.2.3.3 相关功能需求

|                                                |                                                              |
| ---------------------------------------------- | ------------------------------------------------------------ |
| Search.Start                                   | 系统允许用户进行搜索                                         |
| Search.Input.Conditions                        | 用户输入具体的搜索条件（酒店名称，酒店星级，房间，等），系统根据搜索条件返回搜索结果 |
| Search.List.Show<br>Search.List.SortConditions | 系统展示满足条件的酒店列表<br>用户选择酒店列表的排序条件，系统根据排序条件更新酒店列表 |
| Search.End                                     | 用户退出搜索，系统返回主页                                   |



#### 3.2.4 注册会员

##### 3.2.4.1 特征描述

```
用户请求注册会员，系统开始处理注册会员的请求
```

##### 3.2.4.2 刺激/响应序列

```
刺激：用户请求注册会员

响应：系统跳转到注册会员界面

刺激：用户选择注册会员类型（普通，企业）

响应：系统根据不同类型，进行不同的信息收集，普通会员需要填写个人生日，企业会员需要填写企业名称

刺激：用户填写完会员信息，选择确定

响应：系统将用户添加至会员列表中，显示注册成功
```

##### 3.2.4.3 相关功能需求

|                                       |                                                              |
| ------------------------------------- | ------------------------------------------------------------ |
| VIP.Request                           | 用户请求注册会员                                             |
| VIP.Show<br>VIP.Choose<br>VIP.Confirm | 系统显示可以注册的会员类型<br>用户选择注册的会员类型并且填写相关信息（个人生日或者企业名称）<br>用户确定信息无误，选择确认，系统显示注册成功，并且记录会员信息 |
| VIP.Person<br>VIP.Company             | 用户选择注册普通会员，系统要求用户输入生日<br>用户选择注册企业会员，系统要求用户输入企业名称 |



#### 3.2.8 浏览订单

##### 3.2.8.1 特征描述

```
当工作人员请求浏览酒店的订单时，系统允许工作人员浏览本酒店未执行的预定订单，已执行的订单，异常以及已撤销的订单
```

##### 3.2.8.2 刺激/响应序列

```
刺激：酒店工作人员请求浏览酒店订单

响应：系统核验工作人员身份，成功后显示浏览未执行订单，已执行订单，异常订单的选项

刺激：酒店工作人员请求浏览未执行的预定订单

响应：系统显示酒店为执行的订单列表

刺激：酒店工作人员请求浏览已执行的预定订单

响应：系统显示酒店已执行的订单列表

刺激：酒店工作人员请求浏览异常和已撤销订单

响应：系统显示酒店异常和已撤销的订单列表
```

##### 3.2.8.3 相关功能需求

|                                                              |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| OrderOverview                                                | 系统允许酒店工作人员浏览酒店的订单列表                       |
| OrderOverview.Worker.check<br/>OrderOverview.Worker.invalid<br/>OrderOverview.Worker.valid | 当酒店工作人员请求浏览订单时，系统核验工作人员身份<br/>当工作人员信息不正确时，系统提示无权限查看<br/>当工作人员信息正确时，系统显示三个选项 |
| OrderOverview.UnfinishedOrder                                | 当酒店工作人员请求浏览未执行订单时，系统显示未执行订单列表   |
| OrderOverview.FinishedOrder                                  | 当酒店工作人员请求浏览已执行订单时，系统显示已执行订单列表   |
| OderOverview.ExceptionalOrReturnedOrder                      | 当酒店工作人员请求浏览异常或已撤销订单时，系统显示异常或已撤销订单列表 |

#### 3.2.9 执行订单

##### 3.2.9.1 特征描述

```
当用户在酒店前完成入住后，工作人员将订单状态更改，系统将增加用户的信用值
当用户在订单执行时间过后还未入住，系统将订单更改为异常订单并扣除一定信用值，酒店工作人员可进行延迟入住
```

##### 3.2.9.2 刺激/响应序列

```
刺激：酒店工作人员确认用户已入住

响应：系统将订单状态更改为已执行，并增加用户信用值

刺激：时间超过订单执行的最晚时间，用户未入住

响应：系统将订单状态更改为异常，并减少用户信用值

刺激：工作人员将异常订单标记为延迟入住

响应：系统将订单状态更改为已执行，并归还扣除的信用值
```

##### 3.2.9.3 相关功能需求

|                                                         |                                                              |
| ------------------------------------------------------- | ------------------------------------------------------------ |
| ExecuteOrder.checkIn                                    | 当用户在最晚执行时间之前入住时，系统将订单状态更改为已执行，并为用户增加等同于订单价值的信用值 |
| ExecuteOrder.outOfTime<br/>ExecuteOrder,outOfTime.delay | 当时间超过最晚执行时间，系统将订单状态更改为异常，并扣除等同于订单价值的信用值<br/>当酒店工作人员将异常订单标志为“延迟入住"，系统将订单状态更改为已执行，并归还等同于订单价值的信用值 |



#### 3.2.10  制定网站促销策略

##### 3.2.10.1 特征描述

在需要制定促销策略时，一个经过验证的管理员开始制定促销策略，可以在特定期间打折，对vip会员打折

优先级：低

##### 3.2.10.2 刺激/响应序列

刺激：网站营销人员请求制定网站促销策略

响应：系统验证网站营销人员身份，成功后显示促销策略填写表单

刺激：网站营销人员输入活动起始时间、优惠折扣并确认

响应：系统显示修改成功

刺激：网站营销人员输入不符合规范的促销信息

响应：系统显示修改失败

刺激：网站营销人员取消修改

响应：系统关闭制定促销策略任务

##### 3.2.10.3 相关功能需求

| 编号                 | 需求描述                                                     |
| -------------------- | ------------------------------------------------------------ |
| Update.Input         | 系统应允许网站营销人员在制定促销策略任务中进行键盘输入       |
| Update.Input.Cancel  | 在网站营销人员取消修改时，系统关闭当前任务                   |
| Update.Input.Submit  | 在管理员结束修改任务后，系统关闭修改任务，参见Update.Submit  |
| Update.Submit        | 系统应该允许网站营销人员提交促销策略信息                     |
| Update.Submit.Check  | 在网站营销人员提交促销策略信息时，系统检查促销策略信息，参见Update.Check |
| Update.Submit.Update | 在网站营销人员提交促销策略信息时，系统更新促销策略           |
| Update.Check         | 系统检查促销策略的信息，参见数据格式要求Format1、Format6     |
| Update.Check.Invalid | 如果数据格式错误，系统提示数据格式错误                       |

#### 3.2.11 用户管理

##### 3.2.11.1 特征描述

在需要管理网站用户时，一个验证身份的网站管理人员可以添加网站营销人员，查询和更改客户、酒店工作人员信息和网站营销人员

##### 3.2.11.2  刺激/响应序列

刺激：网站管理人员请求管理用户

响应：系统检验网站管理人员身份，成功后显示客户、酒店工作人员、网站营销人员的选项

刺激：网站管理人员请求查询客户信息

响应：系统显示客户信息

刺激：网站管理人员请求修改客户信息

响应：系统显示客户信息修改表单

刺激：网站管理人员修改客户信息并提交

响应：系统显示修改后的客户信息

刺激：网站管理人员请求查询酒店工作人员信息

响应：系统显示酒店工作人员信息

刺激：网站管理人员请求修改酒店工作人员信息

响应：系统显示酒店工作人员信息修改表单

刺激：网站管理人员修改酒店工作人员信息并提交

响应：系统显示修改后的酒店工作人员信息

刺激：网站管理人员请求查询网站营销人员信息

响应：系统显示网站营销人员信息

刺激：网站管理人员请求修改网站营销人员信息

响应：系统显示网站营销人员信息修改表单

刺激：网站管理人员修改网站营销人员信息并提交

响应：系统显示修改后的网站营销人员信息

刺激：网站管理人员取消修改信息

响应：系统返回修改信息表单界面

刺激：网站管理员请求添加网站营销人员

响应：系统显示网站营销人员信息输入界面

刺激：网站管理员输入网站营销人员信息并提交

响应：系统显示添加成功，并显示新的网站营销人员的信息

##### 3.2.11.3 相关功能需求

| 编号                               | 需求描述                                                     |
| ---------------------------------- | ------------------------------------------------------------ |
| Admin.Customer.View                | 系统允许网站管理员查看客户信息                               |
| Admin.Customer.Modify              | 系统允许网站管理员修改客户信息                               |
| Admin.Customer.Modify.Input        | 系统允许网站管理员通过键盘修改客户信息                       |
| Admin.Customer.Modify.Submit       | 系统能够保存网站管理员修改的客户信息                         |
| Admin.Customer.Modify.Submit.Check | 系统在保存修改客户信息前对信息进行检查，参见3.4.3数据格式定义 |
| Admin.Staff.View                   | 系统允许网站管理员查看酒店工作人员信息                       |
| Admin.Staff.Modify                 | 系统允许网站管理员修改酒店工作人员信息                       |
| Admin.Staff.Modify.Input           | 系统允许网站管理员通过键盘修改酒店工作人员信息               |
| Admin.Staff.Modify.Submit          | 系统能够保存网站管理员修改的酒店工作人员信息                 |
| Admin.Staff.Modify.Submit.Check    | 系统在保存修改酒店工作人员信息前对信息进行检查，参见3.4.3数据格式定义 |
| Admin.Marketer.View                | 系统允许网站管理员查看网站营销人员信息                       |
| Admin.Marketer.Modify              | 系统允许网站管理员修改网站营销人员信息                       |
| Admin.Marketer.Modify.Input        | 系统允许网站管理员通过键盘修改网站营销人员信息               |
| Admin.Marketer.Modify.Submit       | 系统能够保存网站管理员修改的网站营销人员信息                 |
| Admin.Marketer.Modify.Submit.Check | 系统在保存修改网站营销人员信息前对信息进行检查，参见3.4.3数据格式定义 |
| Admin.Marketer.Add                 | 系统允许网站管理人员添加网站营销人员                         |
| Admin.Marketer.Add.Input           | 系统允许网站管理人员通过键盘输入营销人员信息                 |
| Admin.Marketer.Add.Submit          | 系统能保存网站管理人员添加的营销人员信息                     |
| Admin.Marketer.Add.Submit.Check    | 系统在保存新的网站营销人员信息前对信息进行检查，参见3.4.3数据格式定义 |

#### 3.2.12 添加酒店及其工作人员

##### 3.2.12.1 特征描述

在需要添加新的酒店时，一个验证身份的网站管理员可以添加酒店以及其工作人员信息

##### 3.2.12.2 刺激/响应序列

刺激：网站管理人员请求添加酒店及其工作人员

响应：系统检验管理员身份，成功后显示酒店信息表单

刺激：网站管理员输入酒店信息并提交

响应：系统显示添加成功并显示添加酒店的信息

刺激：网站管理员请求添加工作人员

响应：系统显示工作人员表单

刺激：网站管理员输入工作人员信息并提交

响应：系统显示添加成功，并返回添加的工作人员信息

刺激：网站管理员取消添加

响应：系统结束添加任务

##### 3.2.12.3 相关功能需求

| 编号                         | 需求描述                                                     |
| ---------------------------- | ------------------------------------------------------------ |
| Admin.Hotel.Add              | 系统允许网站管理人员添加新的酒店                             |
| Admin.Hotel.Add.Input        | 系统允许网站管理人员通过键盘输入酒店信息                     |
| Admin.Hotel.Add.Submit       | 系统可以保存网站管理人员添加的酒店信息                       |
| Admin.Hotel.Add.Check        | 系统在保存新的酒店信息时对信息进行检查，参见3.4.3数据格式定义 |
| Admin.Hotel.Staff.Add        | 系统允许网站管理员为酒店添加一个工作人员                     |
| Admin.Hotel.Staff.Add.Input  | 系统允许网站管理人员通过键盘输入工作人员信息                 |
| Admin.Hotel.Staff.Add.Submit | 系统可以保存网站管理人员添加的工作人员信息                   |
| Admin.Hotel.Staff.Add.Check  | 系统在保存工作人员信息时对信息进行检查，参见3.4.3数据格式定义 |
| Admin.Hotel.Staff.Add.Cancle | 系统结束添加酒店任务                                         |



### 3.3 非功能需求

#### 3.3.1  安全性

- Safety1：系统应该只允许经过登录验证的客户操作订单
- Safety2：系统应该按照用户身份验证用户的访问权限：
  - 管理员、工作人员和客户的身份授权参见功能需求

#### 3.3.2  可维护性

- Modifiability1：如果系统要增加新的管理员功能，要能够在0.15个人月内完成
- Modifiability2：如果系统要增加新的客户服务，要能够在0.3个人月内完成

#### 3.3.3  易用性

- Usability1：系统允许经过登录验证的客户一个月内免登陆

#### 3.3.4  可靠性

- Reliability1：在客户端与服务器通讯时，如果网络故障，系统不能出现故障。
  - Reliability1.1：客户端应该检测到故障，并尝试重新连接网络3次，每次15秒。
    - Reliability1.1.1：重新连接后，客户端应该继续之前的工作
    - Reliability1.1.2：如果连接不成功，客户端应该等待5分钟后再次重新连接。
      - Reliability1.1.2.1：重新连接后，客户端应该继续之前的工作
      - Reliability1.1.2.2：如果重新连接仍然不成功，客户端报警

#### 3.3.5  业务规则

BR1：客户查看酒店信息时将客房已满的酒店显示为房间已满状态

#### 3.3.6  约束

- IC1：系统能够一天24小时为客户提供预定酒店服务
- IC2：系统要在网络上分布为一个服务器和多个客户端

### 3.4  数据需求
#### 3.4.1  数据定义

```
DR1: 系统需要存储用户的基本信息（姓名，用户名，账号，密码，联系方式，信用值，历史订单，会员ID），酒店工作人员和管理员的基本信息（姓名，账号，密码）

DR2: 系统需要存储酒店的基本信息（地址，商圈，简介，设施服务，星级，房间类型，剩余房间数量，房间价格，酒店优惠政策）

DR3: 系统需要存储订单的基本信息（预定人，酒店名称，房间类型，房间数量，入住人数，是否有儿童，特殊需求，最晚执行时间，订单状态，原价格，优惠政策，最终价格）

DR4: 系统需要存储VIP会员的信息（会员ID，会员等级，会员类型，生日，企业名称（仅企业会员需要），特定商圈专属折扣）
```

#### 3.4.2  默认数据
```
默认数据用于：
```

* 有新用户注册时：

  Default1：历史订单为空

  Default2：信用值为0

  Default3：会员ID为空

#### 3.4.3  数据格式要求

```
Format1: 时间的格式必须是："yyyy.mm.dd hh:xx"，即：年-月-日 时：分。

Format2: 价格的格式必须是：精确到小数点后2位的非负浮点数，单位为RMB 元。

Format3: 入住人数，房间数量的格式必须为：x人/间， 其中x为正整数。

Format4: 是否有儿童的格式必须为：是/否。

Format5: 生日的格式必须是：yyyy-mm-dd, 即：年-月-日。
```

### 3.5  其他

```
安装需求：

Install1: 分布式部署:用户、酒店工作人员、网站营销人员、网站管理人员分布在不同的
地方，所以要提供各自的应用部署。

Install2: 部署系统时，要初始化用户、酒店工作人员、管理员、酒店信息、订单信息
```

