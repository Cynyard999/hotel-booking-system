# 需求规格说明模板
## 更新记录

| 时间      | 更新人 | 更新内容                    |
| :-------- | ------ | --------------------------- |
| 2020.4.11 | 陈子合 | 功能需求3.2.1，3.2.8，3.2.9 |
| 2020.4.12 | 陈子合 | 数据需求3.4，其他需求3.5    |
|           |        |                             |
|           |        |                             |
|           |        |                             |
|           |        |                             |
|           |        |                             |

## 目录
[toc]
=======
>>>>>>> Stashed changes
## 1. 引言

### 1.1 目的
### 1.2 范围
### 1.3 参考文献
## 2. 总体描述

### 2.1 项目前景
#### 2.1.1 背景与机遇
#### 2.1.2 业务需求
### 2.2 项目功能
### 2.3 用户特征
### 2.4 约束
### 2.5 假设与依赖

## 3 详细需求描述
### 3.1 对外接口需求
#### 3.1.1 用户界面 
可适当简略
#### 3.1.2 通信接口
### 3.2 功能需求
#### 3.2.1  管理用户信息
##### 3.2.1.1 特征描述

```
当某个用户请求查看个人信息时，系统检验用户身份，显示用户基本信息，允许用户维护自身基本信息（姓名，名称，密码以及联系方式）、浏览未执行订单、已执行订单、异常订单以及已撤销订单
```

##### 3.2.1.2 刺激/响应序列

```
刺激：用户请求查看个人信息

响应：系统检验用户身份，并显示用户的基本个人信息

刺激：用户请求更改个人基本信息

响应：系统提示用户信用值无法修改，并要求用户输入要修改的信息

刺激：用户输入并确认个人基本信息

响应：系统提示个人信息修改成功

刺激：用户请求浏览未执行订单

响应：系统显示该用户未执行的订单

刺激：用户请求并确认撤销未执行订单

响应：系统提示用户撤销成功，并更改订单状态，根据情况更改用户信用值

刺激：用户请求浏览已执行的订单

响应：系统显示该用户已执行的订单

刺激：用户请求浏览异常订单

响应：系统显示该用户的异常订单

刺激：用户请求浏览已撤销订单

响应：系统显示该用户已撤销的订单
```

##### 3.2.1.3 相关功能需求

|                                                              |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| UserInformation                                              | 系统允许用户管理个人信息                                     |
| UserInfermation.start                                        | 系统显示用户的个人信息                                       |
| UserInformation.change<br/>UserInformation.change.input<br/>UserInformation.change.confirm<br/>UserInformation.change.updateAndShow<br/>UserInformation.change.invalid | 系统允许用户更改自身的个人信息<br/>系统允许用户键盘输入要更改的个人信息<br/>用户确认更改后的个人信息<br/>系统更新并显示用户更改后的个人信息<br/>当用户尝试更改信用值时，系统提示信用值无法更改 |
| UserInformation.UnfinishedOrder.show<br/>UserInformation.UnfinishedOrder.return<br/>UserInformation.UnfinishedOrder.return.show<br/>UserInformation.UnfinishedOrder.lateOrder | 系统显示用户未执行订单<br/>在用户请求撤销未执行订单时，系统更改订单状态<br/>在更改订单状态后，系统再次显示未执行订单<br/>在撤销订单时间与订单执行时间间隔小于6小时时，系统更改用户信用值 |
| UserInformation.FinishedOrder                                | 在用户请求浏览已执行订单时，系统显示已执行订单               |
| UserInformation.ExcepitionalOrder                            | 在用户请求浏览异常订单时，系统显示异常订单                   |
| UserInformation.ReturnedOrder                                | 在用户请求浏览已撤销订单时，系统显示已撤销订单               |

#### 3.2.8 浏览订单

##### 3.2.8.1 特征描述

```
当工作人员请求浏览酒店的订单时，系统允许工作人员浏览本酒店未执行的预定订单，已执行的订单，异常以及已撤销的订单
```

##### 3.2.8.2 刺激/响应序列

```
刺激：酒店工作人员请求浏览酒店订单

响应：系统核验工作人员身份，成功后显示浏览未执行订单，已执行订单，异常订单的选项

刺激：酒店工作人员请求浏览未执行的预定订单

响应：系统显示酒店为执行的订单列表

刺激：酒店工作人员请求浏览已执行的预定订单

响应：系统显示酒店已执行的订单列表

刺激：酒店工作人员请求浏览异常和已撤销订单

响应：系统显示酒店异常和已撤销的订单列表
```

##### 3.2.8.3 相关功能需求

|                                                              |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| OrderOverview                                                | 系统允许酒店工作人员浏览酒店的订单列表                       |
| OrderOverview.Worker.check<br/>OrderOverview.Worker.invalid<br/>OrderOverview.Worker.valid | 当酒店工作人员请求浏览订单时，系统核验工作人员身份<br/>当工作人员信息不正确时，系统提示无权限查看<br/>当工作人员信息正确时，系统显示三个选项 |
| OrderOverview.UnfinishedOrder                                | 当酒店工作人员请求浏览未执行订单时，系统显示未执行订单列表   |
| OrderOverview.FinishedOrder                                  | 当酒店工作人员请求浏览已执行订单时，系统显示已执行订单列表   |
| OderOverview.ExceptionalOrReturnedOrder                      | 当酒店工作人员请求浏览异常或已撤销订单时，系统显示异常或已撤销订单列表 |

#### 3.2.9 执行订单

##### 3.2.9.1 特征描述

```
当用户在酒店前完成入住后，工作人员将订单状态更改，系统将增加用户的信用值
当用户在订单执行时间过后还未入住，系统将订单更改为异常订单并扣除一定信用值，酒店工作人员可进行延迟入住
```

##### 3.2.9.2 刺激/响应序列

```
刺激：酒店工作人员确认用户已入住

响应：系统将订单状态更改为已执行，并增加用户信用值

刺激：时间超过订单执行的最晚时间，用户未入住

响应：系统将订单状态更改为异常，并减少用户信用值

刺激：工作人员将异常订单标记为延迟入住

响应：系统将订单状态更改为已执行，并归还扣除的信用值
```

##### 3.2.9.3 相关功能需求

|                                                         |                                                              |
| ------------------------------------------------------- | ------------------------------------------------------------ |
| ExecuteOrder.checkIn                                    | 当用户在最晚执行时间之前入住时，系统将订单状态更改为已执行，并为用户增加等同于订单价值的信用值 |
| ExecuteOrder.outOfTime<br/>ExecuteOrder,outOfTime.delay | 当时间超过最晚执行时间，系统将订单状态更改为异常，并扣除等同于订单价值的信用值<br/>当酒店工作人员将异常订单标志为“延迟入住"，系统将订单状态更改为已执行，并归还等同于订单价值的信用值 |




### 3.3 非功能需求
#### 3.3.1  安全性
#### 3.3.2  可维护性
#### 3.3.3  易用性
#### 3.3.4  可靠性
#### 3.3.5  业务规则
#### 3.3.6  约束

### 3.4  数据需求
#### 3.4.1  数据定义

```
DR1: 系统需要存储用户的基本信息（姓名，用户名，账号，密码，联系方式，信用值，历史订单，会员ID），酒店工作人员和管理员的基本信息（姓名，账号，密码）

DR2: 系统需要存储酒店的基本信息（地址，商圈，简介，设施服务，星级，房间类型，剩余房间数量，房间价格，酒店优惠政策）

DR3: 系统需要存储订单的基本信息（预定人，酒店名称，房间类型，房间数量，入住人数，是否有儿童，特殊需求，最晚执行时间，订单状态，原价格，优惠政策，最终价格）

DR4: 系统需要存储VIP会员的信息（会员ID，会员等级，会员类型，生日，企业名称（仅企业会员需要），特定商圈专属折扣）
```

#### 3.4.2  默认数据
```
默认数据用于：
```

* 有新用户注册时：

  Default1：历史订单为空

  Default2：信用值为0

  Default3：会员ID为空

#### 3.4.3  数据格式要求

```
Format1: 时间的格式必须是："yyyy.mm.dd hh:xx"，即：年-月-日 时：分。

Format2: 价格的格式必须是：精确到小数点后2位的非负浮点数，单位为RMB 元。

Format3: 入住人数，房间数量的格式必须为：x人/间， 其中x为正整数。

Format4: 是否有儿童的格式必须为：是/否。

Format5: 生日的格式必须是：yyyy-mm-dd, 即：年-月-日。
```

### 3.5  其他

```
安装需求：

Install1: 分布式部署:用户、酒店工作人员、网站营销人员、网站管理人员分布在不同的
地方，所以要提供各自的应用部署。

Install2: 部署系统时，要初始化用户、酒店工作人员、管理员、酒店信息、订单信息
```

